<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Telegram WebApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- –ú–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ —Å–≤–æ—ó —Å—Ç–∏–ª—ñ —Ç—É—Ç -->
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
        .container { max-width: 480px; margin: auto; padding: 20px; background: #fff; border-radius: 12px; box-shadow: 0 0 24px #0001; }
        .btn { display: block; width: 100%; margin: 10px 0; padding: 12px; font-size: 1.1em; border: none; border-radius: 8px; background: #007aff; color: #fff; cursor: pointer; }
        .btn.admin { background: #ff9800; }
        .section { margin: 18px 0; }
        .section-title { font-size: 1.2em; margin-bottom: 4px; font-weight: bold; }
        .balance { display: flex; gap: 12px; margin: 8px 0 18px; }
        .history, .purchases { margin-top: 4px; }
        .shop-select, .withdraw-form, .statistic-form { margin: 10px 0; }
        .input { width: 100%; padding: 8px; margin: 6px 0; border-radius: 5px; border: 1px solid #ccc; }
        .modal { display: none; position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; background: #0008; z-index: 10; align-items: center; justify-content: center; }
        .modal-content { background: #fff; padding: 24px; border-radius: 10px; max-width: 340px; width: 90vw; }
        .modal.active { display: flex; }
        .stat-table { width: 100%; border-collapse: collapse; margin-top: 8px; }
        .stat-table th, .stat-table td { border: 1px solid #ccc; padding: 4px 8px; }
        .messages { background: #faf8e9; border-radius: 6px; padding: 8px; margin: 8px 0; }
        .hidden { display: none; }
    </style>
</head>
<body>
<div class="container">

    <!-- –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ -->
    <div id="main-menu">
        <button class="btn" id="user-btn">–û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ</button>
        <button class="btn admin hidden" id="admin-btn">–ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</button>
    </div>

    <!-- –ë–ª–æ–∫ –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö -->
    <div id="user-data" class="hidden">
        <div class="section">
            <div class="section-title">üë§ –û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ</div>
            <div>–ö–ª–∏—á–∫–∞: <span id="user-nickname"></span></div>
            <div>–ì–æ–ª–æ–≤–Ω–∏–π –∞–¥–º—ñ–Ω: <span id="main-admin"></span></div>
        </div>
        <div class="section balance">
            <div>–ë–∞–ª–∞–Ω—Å: <span id="balance-main">0</span></div>
            <div>–ë–æ–Ω—É—Å–Ω–∏–π: <span id="balance-bonus">0</span></div>
        </div>
        <div class="section shop-select">
            <div class="section-title">üõí –ú–∞–≥–∞–∑–∏–Ω</div>
            <select id="shop-items" class="input">
                <option value="">–í–∏–±–µ—Ä–∏ —Ç–æ–≤–∞—Ä</option>
                <option value="1">–¢–æ–≤–∞—Ä 1</option>
                <option value="2">–¢–æ–≤–∞—Ä 2</option>
                <option value="3">–¢–æ–≤–∞—Ä 3</option>
                <option value="4">–¢–æ–≤–∞—Ä 4</option>
                <option value="5">–¢–æ–≤–∞—Ä 5</option>
                <option value="6">–¢–æ–≤–∞—Ä 6</option>
                <option value="7">–¢–æ–≤–∞—Ä 7</option>
                <option value="8">–¢–æ–≤–∞—Ä 8</option>
                <option value="9">–¢–æ–≤–∞—Ä 9</option>
                <option value="10">–¢–æ–≤–∞—Ä 10</option>
            </select>
            <input type="text" id="shop-book" class="input" placeholder="–í–∫–∞–∂–∏ –∫–Ω–∏–≥—É –¥–ª—è –ø–æ–∫—É–ø–∫–∏">
            <button class="btn" id="shop-buy">–ö—É–ø–∏—Ç–∏</button>
        </div>
        <div class="section withdraw-form">
            <div class="section-title">üí∏ –ó–Ω—è—Ç—Ç—è –º–æ–Ω–µ—Ç</div>
            <input type="number" id="withdraw-amount" class="input" min="3000" max="15000" placeholder="–°—É–º–∞ –≤—ñ–¥ 3000 –¥–æ 15000">
            <select id="withdraw-speed" class="input">
                <option value="normal">–ó–≤–∏—á–∞–π–Ω–∏–π –≤–∏–≤—ñ–¥</option>
                <option value="urgent">–¢–µ—Ä–º—ñ–Ω–æ–≤–∏–π –≤–∏–≤—ñ–¥</option>
                <option value="instant">–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –≤–∏–≤—ñ–¥</option>
            </select>
            <button class="btn" id="withdraw-btn">–í–∏–≤–µ—Å—Ç–∏</button>
        </div>
        <div class="section history">
            <div class="section-title">–Ü—Å—Ç–æ—Ä—ñ—è –≤–∏–≤–æ–¥—ñ–≤ (7)</div>
            <ul id="withdraw-history"></ul>
        </div>
        <div class="section purchases">
            <div class="section-title">–ü–æ–∫—É–ø–∫–∏ (7)</div>
            <ul id="purchase-history"></ul>
        </div>
        <div class="section auction">
            <div class="section-title">–ê—É–∫—Ü—ñ–æ–Ω</div>
            <!-- –¢—É—Ç –±—É–¥–µ —Ç–≤—ñ–π –∫–æ–¥ -->
            <div id="auction-block"></div>
        </div>
        <div class="section messages">
            <div class="section-title">–ù–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</div>
            <ul id="user-messages"></ul>
        </div>
        <div class="section statistic-form">
            <div class="section-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            <input type="text" id="stat-book" class="input" placeholder="–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É">
            <button class="btn" id="add-stat-book">–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É</button>
            <div id="stat-books-list"></div>
            <!-- Google table style -->
            <table class="stat-table hidden" id="stat-table">
                <thead>
                    <tr>
                        <th>–î–∞—Ç–∞</th>
                        <th>–ü–µ—Ä–µ–≥–ª—è–¥–∏</th>
                        <th>–î–æ—Ö—ñ–¥</th>
                    </tr>
                </thead>
                <tbody id="stat-table-body"></tbody>
            </table>
        </div>
        <button class="btn" id="back-to-main">‚¨Ö –ù–∞–∑–∞–¥</button>
    </div>

    <!-- –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å -->
    <div id="admin-panel" class="hidden">
        <div class="section">
            <div class="section-title">üëë –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</div>
            <button class="btn admin" id="show-users">–í—Å—ñ —É—á–∞—Å–Ω–∏–∫–∏</button>
            <button class="btn admin" id="show-requests">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–∑–∞—è–≤–∫–∏)</button>
            <button class="btn admin" id="manage-users">–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫–∞–º–∏</button>
            <button class="btn admin" id="admin-shop">–ú–∞–≥–∞–∑–∏–Ω (–∑–∞—è–≤–∫–∏)</button>
            <button class="btn admin" id="admin-withdraw">–ó–Ω—è—Ç—Ç—è (–∑–∞—è–≤–∫–∏)</button>
            <button class="btn admin" id="admin-messages">–ù–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button>
        </div>
        <button class="btn" id="back-to-main-admin">‚¨Ö –ù–∞–∑–∞–¥</button>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó -->
    <div class="modal" id="registration-modal">
        <div class="modal-content">
            <h3>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h3>
            <input type="text" id="reg-nickname" class="input" placeholder="–í–≤–µ–¥–∏ —Å–≤–æ—é –∫–ª–∏—á–∫—É">
            <input type="text" id="reg-telegram" class="input" placeholder="–í–≤–µ–¥–∏ —Å–≤—ñ–π Telegram (@username)">
            <button class="btn" id="reg-submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
        </div>
    </div>
</div>
<script>
    // –î–∞–ª—ñ JS –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫, –ø–æ–∫–∞–∑—É/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –∞–¥–º—ñ–Ω-–∫–Ω–æ–ø–∫–∏ —ñ –º–æ–¥–∞–ª–∫–∏
    // –¶–µ —Ç–µ—Å—Ç–æ–≤–∞ –ª–æ–≥—ñ–∫–∞, –¥–∞–ª—ñ –±—É–¥–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Python API
    const isAdmin = false; // —Ç—É—Ç –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±–µ–∫–µ–Ω–¥
    document.getElementById("user-btn").onclick = () => {
        document.getElementById("main-menu").classList.add("hidden");
        document.getElementById("user-data").classList.remove("hidden");
    };
    document.getElementById("admin-btn").onclick = () => {
        document.getElementById("main-menu").classList.add("hidden");
        document.getElementById("admin-panel").classList.remove("hidden");
    };
    document.getElementById("back-to-main").onclick = () => {
        document.getElementById("user-data").classList.add("hidden");
        document.getElementById("main-menu").classList.remove("hidden");
    };
    document.getElementById("back-to-main-admin").onclick = () => {
        document.getElementById("admin-panel").classList.add("hidden");
        document.getElementById("main-menu").classList.remove("hidden");
    };
    window.onload = () => {
        // –ü–æ–∫–∞–∂–µ–º–æ –º–æ–¥–∞–ª–∫—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ (–ª–æ–≥—ñ–∫–∞ —á–µ—Ä–µ–∑ –±–µ–∫–µ–Ω–¥)
        const needRegistration = true; // –∑–∞–º—ñ–Ω–∏—à –Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —á–µ—Ä–µ–∑ –±–µ–∫–µ–Ω–¥
        if (needRegistration) {
            document.getElementById("registration-modal").classList.add("active");
        }
        // –ü–æ–∫–∞–∑–∞—Ç–∏ –∞–¥–º—ñ–Ω-–∫–Ω–æ–ø–∫—É —è–∫—â–æ –∞–¥–º—ñ–Ω
        if (isAdmin) {
            document.getElementById("admin-btn").classList.remove("hidden");
        }
    };
    document.getElementById("reg-submit").onclick = () => {
        // –¢—É—Ç –±—É–¥–µ –∑–∞–ø–∏—Ç —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –¥–æ –±–µ–∫–µ–Ω–¥—É (Python)
        document.getElementById("registration-modal").classList.remove("active");
        alert("–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞, —á–µ–∫–∞–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–¥–º—ñ–Ω–∞!");
    };
</script>
</body>
</html>
